# FitTrack Pro v1.1 - Pre-Release Testing Checklist

## Overview
Complete end-to-end testing before final release to ensure all new features work correctly.

**Testing Date**: October 30, 2025  
**Tester**: _______________  
**Build Version**: 1.1.0  
**Worker Version**: Live at https://fittrack-pro-desktop.rehchu1.workers.dev

---

## ✅ Test Results Summary

| Component | Status | Notes |
|-----------|--------|-------|
| Worker Endpoints | ⏳ In Progress | /health ✅ working |
| Desktop App | ⏳ In Progress | Built and launched successfully |
| QR Code Generation | ⬜ Not Started | |
| Logo Upload (Desktop) | ⬜ Not Started | |
| Password Change (Desktop) | ⬜ Not Started | |
| Web Client Settings | ⬜ Not Started | |
| Mobile Navigation | ⬜ Not Started | |
| PWA Features | ⬜ Not Started | |
| End-to-End Flow | ⬜ Not Started | |

---

## 1️⃣ Worker Endpoint Tests

### 1.1 Health Check Endpoint ✅
**URL**: https://fittrack-pro-desktop.rehchu1.workers.dev/health

**Test Steps**:
1. Open PowerShell
2. Run: `Invoke-RestMethod -Uri "https://fittrack-pro-desktop.rehchu1.workers.dev/health"`

**Expected Result**:
```json
{
  "status": "ok",
  "timestamp": 1761800045416,
  "features": {
    "kv": true,
    "d1": true,
    "ai": true,
    "vectorize": true,
    "analytics": true,
    "chat": true
  }
}
```

**Actual Result**: ✅ PASS
- Status: ok
- All features: true

---

### 1.2 Welcome Page ⏳
**URL**: https://fittrack-pro-desktop.rehchu1.workers.dev/

**Test Steps**:
1. Open in browser: https://fittrack-pro-desktop.rehchu1.workers.dev/
2. Verify welcome page loads with HTML content

**Expected Result**:
- Page loads successfully
- Shows "FitTrack Pro" branding
- Contains navigation links

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________
- Notes: PowerShell error 1042 encountered; testing in browser

---

### 1.3 Manifest.json (PWA) ⬜
**URL**: https://fittrack-pro-desktop.rehchu1.workers.dev/manifest.json

**Test Steps**:
1. Run: `Invoke-RestMethod -Uri "https://fittrack-pro-desktop.rehchu1.workers.dev/manifest.json"`

**Expected Result**:
```json
{
  "name": "FitTrack Pro - Client Profile",
  "short_name": "FitTrack",
  "start_url": "/",
  "display": "standalone"
}
```

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

### 1.4 Service Worker ⬜
**URL**: https://fittrack-pro-desktop.rehchu1.workers.dev/sw.js

**Test Steps**:
1. Open in browser: https://fittrack-pro-desktop.rehchu1.workers.dev/sw.js
2. Verify JavaScript service worker code loads

**Expected Result**:
- Returns JavaScript code
- Content-Type: application/javascript

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

### 1.5 Trainer Profile API ⬜
**URL**: https://fittrack-pro-desktop.rehchu1.workers.dev/api/trainers/1/profile

**Test Steps**:
1. Run: `Invoke-RestMethod -Uri "https://fittrack-pro-desktop.rehchu1.workers.dev/api/trainers/1/profile"`

**Expected Result**:
```json
{
  "id": 1,
  "name": "Test Trainer",
  "email": "trainer@test.com",
  "logo_url": null,
  "profile_completed": 0,
  "created_at": "2024-01-01T00:00:00.000Z"
}
```

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________
- Notes: _______________

---

### 1.6 Trainer Portal (Incomplete Profile) ⬜
**URL**: https://fittrack-pro-desktop.rehchu1.workers.dev/trainer/1

**Test Steps**:
1. Open in browser: https://fittrack-pro-desktop.rehchu1.workers.dev/trainer/1
2. Should show "Profile Incomplete" message if trainer hasn't uploaded logo

**Expected Result**:
- Page loads
- Shows message: "Please complete your profile in the desktop app"
- Includes instructions to upload logo

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

## 2️⃣ Desktop App Tests

### 2.1 App Launch ✅
**Test Steps**:
1. Navigate to: `e:\FitTrack Pro 1.1\desktop-app\dist-new\win-unpacked`
2. Run: `.\FitTrack Pro.exe`
3. App should launch without errors

**Expected Result**:
- App window opens
- No console errors
- Main interface loads

**Actual Result**: ✅ PASS
- App launched successfully

---

### 2.2 Settings Button ⬜
**Test Steps**:
1. In running desktop app, look for "⚙️ Settings" button (top-right)
2. Click the Settings button
3. Settings modal should open

**Expected Result**:
- Settings modal appears
- Contains 3 sections: QR Code, Upload Logo, Change Password

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

### 2.3 QR Code Generation ⬜
**Test Steps**:
1. Open Settings modal
2. Expand "QR Code for Mobile Access" section
3. Verify QR code displays
4. Check the URL shown below QR code
5. Click "Copy URL" button
6. Click "Download QR Code" button

**Expected Result**:
- QR code image (300x300px) displays
- URL shows: `https://fittrack-pro-desktop.rehchu1.workers.dev/trainer/{trainerId}`
- "Copy URL" copies to clipboard
- "Download QR Code" downloads PNG file

**Actual Result**: 
- [ ] PASS - QR displays
- [ ] PASS - URL correct
- [ ] PASS - Copy works
- [ ] PASS - Download works
- [ ] FAIL - Error: _______________

**QR Code URL**: _______________

---

### 2.4 Logo Upload (Desktop) ⬜
**Test Steps**:
1. Open Settings modal
2. Expand "Upload Logo" section
3. Click "Choose File"
4. Select a test image (<5MB, PNG/JPG)
5. Verify preview appears
6. Click "Save" button

**Expected Result**:
- File picker opens
- Preview shows selected image
- Upload completes successfully
- Success message appears
- Returns `logo_url` from R2

**Actual Result**: 
- [ ] PASS - File picker works
- [ ] PASS - Preview displays
- [ ] PASS - Upload succeeds
- [ ] FAIL - Error: _______________

**Logo URL Returned**: _______________

---

### 2.5 Password Change (Desktop) ⬜
**Test Steps**:
1. Open Settings modal
2. Expand "Change Password" section
3. Enter current password: `test123` (or whatever you set)
4. Enter new password: `newpass123` (minimum 8 chars)
5. Confirm new password: `newpass123`
6. Click "Change Password"

**Expected Result**:
- All fields accept input
- Validation checks password length (≥8)
- Confirmation must match new password
- Success message appears
- Password hash updated in D1

**Actual Result**: 
- [ ] PASS - Validation works
- [ ] PASS - Update succeeds
- [ ] FAIL - Error: _______________

---

### 2.6 Navigation Menu (Desktop) ⬜
**Test Steps**:
1. In main client profile view, verify dropdown menu appears
2. Menu should have 4 categories:
   - Overview (Profile, Measurements)
   - Training (Workouts, Progress)
   - Communication (Chat, Video)
   - Private (Notes, Settings)
3. Click through each category
4. Verify smooth animations and transitions

**Expected Result**:
- Dropdown menu displays correctly
- All 4 categories present
- Categories expand/collapse smoothly
- Breadcrumb shows current selection

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

## 3️⃣ Web Client Tests

### 3.1 Build Web Client ⬜
**Test Steps**:
```powershell
cd "e:\FitTrack Pro 1.1\web-client"
npm run build
npm run dev
```

**Expected Result**:
- Build completes without errors
- Dev server starts at http://localhost:5173

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

### 3.2 Settings Page (Web) ⬜
**Test Steps**:
1. Navigate to: http://localhost:5173/settings
2. Test logo upload:
   - Click "Choose File"
   - Select image
   - Verify preview
   - Click "Upload"
3. Test password change:
   - Enter current password
   - Enter new password (≥8 chars)
   - Confirm password
   - Click "Change Password"

**Expected Result**:
- Settings page loads with Material-UI styling
- Logo upload works identically to desktop
- Password change works identically to desktop

**Actual Result**: 
- [ ] PASS - Page loads
- [ ] PASS - Logo upload works
- [ ] PASS - Password change works
- [ ] FAIL - Error: _______________

---

### 3.3 Client Public Profile ⬜
**Test Steps**:
1. Navigate to: http://localhost:5173/client/testclient
2. Verify profile displays:
   - Client name
   - Stats (weight, body fat, etc.)
   - Measurements
   - Achievements
   - PWA install prompt (if on mobile)

**Expected Result**:
- Profile page loads
- All stats display correctly
- Responsive design works
- PWA installable

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

### 3.4 Mobile Navigation ⬜
**Test Steps**:
1. Resize browser to mobile width (<768px)
2. Verify hamburger menu icon appears
3. Click hamburger menu
4. Drawer should slide in from left
5. Verify "Settings" link in menu
6. Test navigation to each page

**Expected Result**:
- Hamburger menu appears on mobile
- Drawer slides smoothly
- All nav links work
- Settings accessible

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

## 4️⃣ End-to-End Integration Tests

### 4.1 QR Code → Mobile Portal Flow ⬜
**Test Steps**:
1. Desktop: Generate QR code in Settings
2. Mobile: Scan QR code with phone camera
3. Opens: `https://fittrack-pro-desktop.rehchu1.workers.dev/trainer/{id}`
4. If profile incomplete → Shows "Complete your profile" message
5. If profile complete → Redirects to web dashboard

**Expected Result**:
- QR scan works
- URL opens correctly
- Profile completion check works
- Appropriate page displays

**Actual Result**: 
- [ ] PASS - QR scan works
- [ ] PASS - URL correct
- [ ] PASS - Profile gate works
- [ ] FAIL - Error: _______________

---

### 4.2 Logo Upload → Profile Completion Flow ⬜
**Test Steps**:
1. Start with trainer that has `profile_completed = 0`
2. Upload logo via desktop Settings
3. Verify D1 database updates:
   - `logo_url` set to R2 URL
   - `profile_completed` set to 1
4. Access trainer portal again
5. Should now redirect to dashboard (not blocked)

**Expected Result**:
- Logo upload sets profile_completed = 1
- Portal access granted after completion
- R2 URL stored correctly

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

**Database Check**:
```powershell
cd "e:\FitTrack Pro 1.1\integrations\cloudflare"
npx wrangler d1 execute fittrack-pro-db --command="SELECT id, name, email, logo_url, profile_completed FROM trainers WHERE id = 1;"
```

Result: _______________

---

### 4.3 Password Change → Login Flow ⬜
**Test Steps**:
1. Change password via desktop or web Settings
2. Attempt to log in with old password → Should fail
3. Log in with new password → Should succeed

**Expected Result**:
- Old password no longer works
- New password authenticates successfully
- Password hash updated in D1

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

### 4.4 Client Public Profile Access ⬜
**Test Steps**:
1. Trainer creates client profile
2. Client name: `johndoe`
3. Share URL: `https://fittrack-pro-desktop.rehchu1.workers.dev/client/johndoe`
4. Open URL in browser (or mobile)
5. Profile should load with stats

**Expected Result**:
- URL resolves correctly
- Client profile displays
- Stats/measurements show
- PWA installable (mobile)

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

## 5️⃣ Performance Tests

### 5.1 QR Code Generation Speed ⬜
**Test Steps**:
1. Open browser DevTools (F12)
2. Go to Console tab
3. Generate QR code
4. Check generation time

**Expected Result**:
- Generation time: <100ms

**Actual Result**: _____ ms
- [ ] PASS (<100ms)
- [ ] FAIL (>100ms)

---

### 5.2 Logo Upload Speed ⬜
**Test Steps**:
1. Select 5MB image file
2. Time the upload process
3. Should complete quickly

**Expected Result**:
- Upload time: <2 seconds for 5MB file

**Actual Result**: _____ seconds
- [ ] PASS (<2s)
- [ ] FAIL (>2s)

---

### 5.3 Worker Response Time ⬜
**Test Steps**:
1. Check `/health` endpoint response time
2. Check `/api/trainers/{id}/profile` response time
3. Test from multiple locations if possible

**Expected Result**:
- Edge response: <50ms
- API calls: <500ms (with cache)

**Actual Result**: 
- /health: _____ ms
- /api/trainers: _____ ms
- [ ] PASS
- [ ] FAIL

---

## 6️⃣ Security Tests

### 6.1 Password Hashing ⬜
**Test Steps**:
1. Change password
2. Check D1 database
3. Verify password is hashed (SHA-256)
4. Should NOT see plain text password

**Expected Result**:
- Password stored as hash
- Hash length: 64 characters (hex)

**Actual Result**: 
- [ ] PASS - Password hashed
- [ ] FAIL - Plain text stored

---

### 6.2 File Upload Validation ⬜
**Test Steps**:
1. Try uploading file >5MB → Should fail
2. Try uploading non-image file → Should fail
3. Upload valid image (<5MB) → Should succeed

**Expected Result**:
- Size validation works
- Type validation works
- Valid uploads succeed

**Actual Result**: 
- [ ] PASS - Size check works
- [ ] PASS - Type check works
- [ ] FAIL - Error: _______________

---

### 6.3 CORS Headers ⬜
**Test Steps**:
1. Open browser DevTools
2. Check Network tab
3. Make API request
4. Verify CORS headers present

**Expected Result**:
- Access-Control-Allow-Origin: *
- Access-Control-Allow-Methods present
- No CORS errors

**Actual Result**: 
- [ ] PASS
- [ ] FAIL - Error: _______________

---

## 7️⃣ Known Issues / Bugs Found

### Issue #1: _______________
**Description**: _______________  
**Severity**: [ ] Critical [ ] High [ ] Medium [ ] Low  
**Steps to Reproduce**: _______________  
**Expected**: _______________  
**Actual**: _______________  
**Fix Needed**: _______________

---

### Issue #2: _______________
**Description**: _______________  
**Severity**: [ ] Critical [ ] High [ ] Medium [ ] Low  
**Steps to Reproduce**: _______________  
**Expected**: _______________  
**Actual**: _______________  
**Fix Needed**: _______________

---

## 8️⃣ Final Sign-Off

### ✅ All Critical Tests Passed
- [ ] Worker endpoints working
- [ ] Desktop app launches
- [ ] QR code generation works
- [ ] Logo upload functional
- [ ] Password change functional
- [ ] Web client accessible
- [ ] Mobile navigation responsive
- [ ] PWA features working

### 🚀 Ready for Release
- [ ] All tests PASS
- [ ] No critical bugs
- [ ] Performance acceptable
- [ ] Security validated
- [ ] Documentation updated

**Tester Signature**: _______________  
**Date**: _______________  
**Recommendation**: [ ] APPROVE FOR RELEASE [ ] NEEDS FIXES

---

## Quick Command Reference

### Test Worker Locally
```powershell
cd "e:\FitTrack Pro 1.1\integrations\cloudflare"
npx wrangler dev
```

### Test Endpoints
```powershell
# Health
Invoke-RestMethod -Uri "https://fittrack-pro-desktop.rehchu1.workers.dev/health"

# Manifest
Invoke-RestMethod -Uri "https://fittrack-pro-desktop.rehchu1.workers.dev/manifest.json"

# Trainer Profile
Invoke-RestMethod -Uri "https://fittrack-pro-desktop.rehchu1.workers.dev/api/trainers/1/profile"
```

### Build Desktop App
```powershell
cd "e:\FitTrack Pro 1.1\desktop-app"
npm run build
npm run pack
```

### Run Desktop App
```powershell
cd "e:\FitTrack Pro 1.1\desktop-app\dist-new\win-unpacked"
.\FitTrack Pro.exe
```

### Build Web Client
```powershell
cd "e:\FitTrack Pro 1.1\web-client"
npm run build
npm run dev
```

### Check D1 Database
```powershell
cd "e:\FitTrack Pro 1.1\integrations\cloudflare"
npx wrangler d1 execute fittrack-pro-db --command="SELECT * FROM trainers WHERE id = 1;"
```

### View Worker Logs
```powershell
cd "e:\FitTrack Pro 1.1\integrations\cloudflare"
npx wrangler tail --format pretty
```
